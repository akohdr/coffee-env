# Some handy REPL helper stuff

# Dependencies
global.r = require 'roast'
global.fs = require 'fs'
global.jspath = require 'JSONPath'
global.quant = require 'quant'
global.gf = quant.gfin
global.qo = quant.options

# Global aliases
global.cl = (s) -> console.log s
global.as = (o) -> o.toString()
global.clo = (o) -> @cl @as o
global.sjs = (o) -> JSON.stringify o
global.pjs = (s) -> JSON.parse s
global.rcb = (o) -> this.result = o; cl o
global.doNow = (f, args...) -> (f(args..., rcb))?
global.exe = (o) -> o?
global.re = (s) -> r.reinjectMod s
global.rj = (f) -> JSON.parse fs.readFileSync f+'.json','utf-8'
global.wj = (f,o) -> fs.writeFileSync f+'.json',JSON.stringify o
global.je = (o) -> (s) -> jspath.eval o,s

# Utility functions
global.startsWith = (t) -> (s='') -> (s.search t) == 0

# flag function to indicate caffeine REPL helpers initialized 
global.buzzed = ()->'globally caffeinated'
exports.buzzed = buzzed()


# use-cases
global.cs = rj 'chk_chains'
global.os = quant.options.strip cs

